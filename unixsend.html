<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>libdill</title>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>

<h1>libdill: Structured Concurrency for C</h1>

<ul id='toplist'>
<li><a href="index.html">Home</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="documentation.html">Documentation</a></li>
</ul>
<h1 id="unixsend3-manual-page">unixsend(3) manual page</h1>
<h2 id="name">NAME</h2>
<p>unixsend - send data to a UNIX domain connection</p>
<h2 id="synopsis">SYNOPSIS</h2>
<pre><code>#include &lt;dsock.h&gt;
int unixsend(int s, const void *buf, size_t *len, int64_t deadline);</code></pre>
<h2 id="description">DESCRIPTION</h2>
<p>Attempts to write <code>len</code> bytes from buffer <code>buf</code> to the socket. Function succeeds only if all the bytes are written. If it fails though it may still have written some bytes to the socket. In either case the value of <code>len</code> is updated to indicate the number of bytes acutally written.</p>
<h2 id="return-value">RETURN VALUE</h2>
<p>Zero in case of success. In case of error -1 is returned and <code>errno</code> is set to one of the error codes below.</p>
<h2 id="errors">ERRORS</h2>
<ul>
<li><code>EBADF</code>: Invalid handle.<br /></li>
<li><code>ECANCELED</code>: Current coroutine is being shut down.<br /></li>
<li><code>ECONNRESET</code>: The connection is broken.<br /></li>
<li><code>EINTR</code>: The function was interruped by a singal.<br /></li>
<li><code>ENOTSUP</code>: Handle is not a UNIX domain socket.<br /></li>
<li><code>ETIMEDOUT</code>: Deadline expired.</li>
</ul>
<h2 id="example">EXAMPLE</h2>
<pre><code>size_t sz = 3;
int rc = unixsend(s, &quot;ABC&quot;, &amp;sz, -1);</code></pre>
</body>
